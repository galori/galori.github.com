
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>You've got a lot of Gal</title>
  <meta name="author" content="Gal Steinitz">

  
  <meta name="description" content="How many times do you use some_array.first as a way to get at the one and only member of that array? It always bugged me that this can be error prone &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://galori.github.com/blog/page/3/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="You've got a lot of Gal" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-213901-4']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">You've got a lot of Gal</a></h1>
  
    <h2>Yet another blog about Ruby, Rails, Javascript, Apple, Malteses and Shih-Tzus by Gal Steinitz</h2>
  
  <h3>This site is completely static. It was last generated with Octopress and Jekyll on Jul 21, 2013 and hosted on github pages.</h3>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:galori.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/06/07/array-only-for-ruby/">Array#only for Ruby</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-06-07T00:00:00-07:00" pubdate data-updated="true">Jun 7<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content">How many times do you use <strong>some_array.first</strong> as a way to get at the one and only member of that array?

It always bugged me that this can be error prone - if the array has more than one component you&#8217;ll never know about it, and the .first method isn&#8217;t semantically describing what you are doing - grabbing the one and only member.

If you add this somewhere in lib/initializiers, you get the .only method

[sourcecode language=&#8221;ruby&#8221;]
class Array
  def only
    raise &quot;called Array#only with array of length #{self.length}&quot; if self.length&gt;1
    self.first
  end
end
[/sourcecode]

which provides a more semantic description of what you&#8217;re trying to do:

[sourcecode language=&#8221;ruby&#8221;]
&gt;&gt; [].only
=&gt; nil
&gt;&gt; [1].only
=&gt; 1
&gt;&gt; [1,2,3].only
RuntimeError: called Array#only with array of length 3
[/sourcecode]
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/03/25/update-to-fire-and-consume-custom-global-events-in-jquery/">Update to &#8220;Fire and Consume Custom Global Events in jQuery&#8221;</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-03-25T00:00:00-07:00" pubdate data-updated="true">Mar 25<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Update 9-8-2012: <a href="/blog/2012/09/08/global-javascript-events-with-backbone-js/">Global events with Backbone JS</a></p>

<p>This is an update to <a href="/blog/2009/11/06/fire-and-consume-custom-global-events-in-jquery/">a previous post</a></p>

<p>jQuery 1.4 is out, and the undocumented syntax I described for triggering and responding to global events has changed. You can still use the same pattern. When firing a global event, bind to any element on the DOM, such as &#8216;body&#8217; or document:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;sneeze&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(){})</span>
</span><span class='line'><span class="nx">$</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">&quot;sneeze&quot;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>This is a great way to decouple code and when used like a messaging system, can really clean up your code.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/03/25/sql-quiz/">SQL Quiz</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-03-25T00:00:00-07:00" pubdate data-updated="true">Mar 25<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content">I enjoyed this interactive <a href="http://perfectionkills.com/javascript-quiz/">javascript quiz</a> from perfectionkills.com, and thought it would be fun to create an interactive SQL quiz.
<p>&nbsp;</p>
You can head on over directly to <a href="http://pages.ragingstudios.com/quiz.html" target="_blank">my SQL quiz</a> or preview the questions here.
<p>&nbsp;</p>
Given the following two tables:

[sourcecode language=&#8221;text&#8221;]
select * from a;                select * from b;        
+&#8212;&#8212;+&#8212;&#8212;-+                +&#8212;&#8212;+&#8212;&#8212;-+&#8212;&#8212;+        
| id   | label |                | id   | label | a_id |        
+&#8212;&#8212;+&#8212;&#8212;-+                +&#8212;&#8212;+&#8212;&#8212;-+&#8212;&#8212;+        
|    1 | Alpha |                |    1 | I     |    1 |        
|    2 | Beta  |                |    2 | II    |    1 |        
|    3 | Gamma |                |    3 | III   |    2 |        
+&#8212;&#8212;+&#8212;&#8212;-+                +&#8212;&#8212;+&#8212;&#8212;-+&#8212;&#8212;+        
[/sourcecode]
          
What would be the result of each of the following SQL statements&#8230;..

(continued)

Head over to the  <a href="http://galori.github.com/quiz.html">interactive SQL quiz</a> to match the queries with the results.
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/12/14/cleaner-css-browser-targetting-with-simple-useragent-gem/">Cleaner CSS Browser Targetting With Simple-useragent Gem</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-12-14T00:00:00-08:00" pubdate data-updated="true">Dec 14<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content">I just posted the &#8220;simple-useragent&#8221; gem, which provides the ability to for cleaner browser specific CSS targeting*.  This is for rails projects but the concept can work anywhere.

For example, instead of the targeting IE7 with your CSS with

[sourcecode language=&#8221;css&#8221;]
/* IE7 */
*:first-child+html #content {
  height: 500px;
}
[/sourcecode]

You can now do this:

[sourcecode language=&#8221;css&#8221;]
.ie7 #content {
  height: 500px;
}
[/sourcecode]

To take advantage of this, you just need to add the following to your body tag:

[sourcecode language=&#8221;ruby&#8221; htmlscript=&#8221;true&#8221;]
&lt;body class=&#8217;&lt;%=UserAgent::browser(request)%&gt;&#8217;&gt;
[/sourcecode]

* Admittedly targeting CSS to a specific browser is a bad practice that should generally be avoided. For more details about why browser detection in general is a bad idea, see <a href="http://www.quirksmode.org/js/support.html">www.quirksmode.org/js/support.html</a>. However sometimes there is no choice - especially under time constraints.

<hr>

Additionally, simple-useragent makes the following methods available to you:

[sourcecode language=&#8221;ruby&#8221; htmlscript=&#8221;true&#8221;]
UserAgent::is_desktop?
UserAgent::is_mobile?
UserAgent::is_blackberry?
UserAgent::is_iphone?
[/sourcecode]

The is_mobile? and is_desktop? methods are using a minimalistic approach, converted from the python script here: http://gist.github.com/88057. The theory is that since there are a lot more mobile user agents than there are desktop user agents (hundreds or even thousands) - we detect the known list of desktop user agents, and if its not one of those we assume that it is mobile. It works surprisingly well in the vast majority of cases. So far I’ve only seen it fail with spoofed or malformed user agents.

To install:

[sourcecode language=&#8221;bash&#8221;]gem install simple-useragent[/sourcecode]

The gem is hosted on gemcutter - if you don&#8217;t have gemcutter as a source you&#8217;ll have to add it

[sourcecode language=&#8221;bash&#8221;]gem install gemcutter
gem tumble [/sourcecode]

<hr>

source at <a href="http://github.com/galori/simple-useragent">http://github.com/galori/simple-useragent</a>

Update:  Thanks to an anonymous commenter on <a href="http://www.rubyflow.com/items/3148">rubyflow</a> for pointing out a jQuery version of this: <a href="http://github.com/alexrabarts/jquery-platformselector">jquery.platformselector</a>.  
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/11/06/fire-and-consume-custom-global-events-in-jquery/">Fire and Consume Custom Global Events in jQuery</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-11-06T00:00:00-08:00" pubdate data-updated="true">Nov 6<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><ul>
<li>Update 3-4-2010: <a href="/blog/2010/03/25/update-to-fire-and-consume-custom-global-events-in-jquery/">jQuery 1.4 changed things a bit</a></li>
<li>Update 9-8-2012: <a href="/blog/2012/09/08/global-javascript-events-with-backbone-js/">Global events with Backbone JS</a></li>
</ul>


<p>To bind something to a custom event:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">$</span><span class="p">().</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;sneeze&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;bless you!&quot;</span><span class="p">);</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>and to fire that event, from anywhere else?</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">$</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">&quot;sneeze&quot;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>result in the console, is as expected:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">bless</span> <span class="nx">you</span>
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/11/01/sql-injection-humor-love-it/">SQL Injection Humor, Love It</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-11-01T00:00:00-07:00" pubdate data-updated="true">Nov 1<span>st</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><a href="http://xkcd.com/327/"><img src="http://thespottyblog.files.wordpress.com/2009/11/exploits_of_a_mom.png" alt="exploits_of_a_mom" title="exploits_of_a_mom" width="499" height="153" class="alignnone size-full wp-image-10" /></a>

Courtesy of <a href="http://xkcd.com/327/">xkcd</a>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/10/24/javascript-pattern-for-passing-additional-variables-into-an-event-handler/">Javascript Pattern for Passing Additional Variables Into an Event Handler</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-10-24T00:00:00-07:00" pubdate data-updated="true">Oct 24<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content">When you need to pass extra variables into your event handler, you can&#8217;t just pass it in since the event handler has a specific signature (function (e){}).  However there are several options:  Thanks to Javascript Closures, anonymous functions do have access to their original scope and variables, so something like this would work:

[sourcecode language=&#8221;jscript&#8221;]
var myVar = &quot;Hello!&quot;;
$(&quot;#element&quot;).click(function(e){
  alert(myVar);
});&lt;/code&gt;
[/sourcecode]

However, this alternate pattern is a bit cleaner and makes it obvious which variables your event handler depends on:

[sourcecode language=&#8221;jscript&#8221;]
var myVar = &quot;Hello!&quot;;
$(&quot;#element&quot;).click(clickHandler(myVar));
function clickHandler(myVar) {
  return function(e) {
    alert(myVar);
  }
}
[/sourcecode]

Keep in mind that in this second pattern, clickHandler is actually called at parse time and not when the event fires.  When it gets called, it returns the anonymous function which is what actually gets bound to the event and gets called when the event fires.
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/2/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <img src='/images/gal_apple_iigs.jpeg'>
<caption>1986; Loving my new Apple IIgs</caption><center>
  <div style='border-radius: 10px; background-color: white; padding 10px; margin-top: 10px'>
    <a href="http://www.linkedin.com/in/galsteinitz" style='text-decoration:none; position:relative; left: -10px; top: -14px;'>

    <img src="http://www.linkedin.com/img/webpromo/btn_viewmy_160x33.png" width="110"  border="0" alt="View Gal Steinitz's profile on LinkedIn">

    <img src="/images/gal-steinitz-avatar.jpg" style="margin-top:-39px">
    </a>
  </div>
</center><section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/07/21/why-w3schools-is-bad-for-the-internet/">Why w3schools is bad for the internet</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/21/proceed-anyway-button-gone-from-chrome-for-certificate-errors/">Proceed Anyway button gone from chrome for certificate errors? (Easter Egg)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/21/caught-my-eye-july-20th/">Caught my eye - Links for July 20th</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/19/remember-firebug-lite/">Remember Firebug Lite?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/15/unsubscribe-all-the-things/">Unsubscribe - ALL THE THINGS</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/galori">@galori</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'galori',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("galori", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/galori" class="twitter-follow-button" data-show-count="true">Follow @galori</a>
  
</section>


<section>
  <h1>On Delicious</h1>
  <div id="delicious"></div>
  <script type="text/javascript" src="http://feeds.delicious.com/v2/json/cysurflex?count=3&amp;sort=date&amp;callback=renderDeliciousLinks"></script>
  <p><a href="http://delicious.com/cysurflex">My Delicious Bookmarks &raquo;</a></p>
</section>




  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Gal Steinitz -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'ragingstudiosblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
